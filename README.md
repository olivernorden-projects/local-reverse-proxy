# Local reverse proxy

An nginx reverse proxy for development of multiple local sites on different ports using servernames and ssl.

## Configuration

Create a .env file from .env.example. `UPSTREAM_n` is the subdomain used for accessing the site (<*upstream*>.ondocker.dev) and `UPSTREAM_SERVER_n` is the host and port on which the docker container can access the application. Note that this is not necessarily the same url that is used on the host machine, `host.docker.internal` can be used to access the host from inside a container.

After configuration the proxy will need to be restarted.

### Ports

HTTP and HTTPS ports may be set using the environment variables `APP_HTTP_PORT` and `APP_HTTPS_PORT`.

## SSL certificates

SSL certificates are loaded for *.ondocker.dev. If these expire, they can be regenerated by rebuilding the docker image.
